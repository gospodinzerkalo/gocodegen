// Code generated by gospodinzerkalo; DO NOT EDIT.
//
// Source: api/api.go
// Template: templates/logging-service.go.tmpl

type LoggingMiddleWare struct {
	Logger 	log.Logger
	Next 	Service
}

{{range .Entities}}
func (m LoggingMiddleWare) GetCrimes(ctx context.Context) (res *[]domain.{{.Name}}, err error) {
	defer func(begin time.Time) {
		_ = m.Logger.Log(
			"method", "{{.Name}}",
			"input", nil,
			"output", fmt.Sprintf("%v", res),
			"err", err,
			"took", time.Since(begin),
		)
	}(time.Now())
	res, err = m.Next.{{.Name}}(ctx)
	return
}
{{end}}